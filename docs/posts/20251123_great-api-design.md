---
tags: ['Learning', 'Draft']
date: 2025-11-23
toc: true
---

# Great API Design

## How does Stripe do it?

- API platform for users
- Design decisions affect everyone across the platform

Key attributes of building APIs and teams?

- Approachable
- Flexible
- Composable

A few key principles learned:

1. Put users first
    - Werner Vogels, Amazon CTO and a key architect of AWS - "Working Backwards"
        - Customer
        - Press Release
        - FAQ
        - Wireframe
        - User Manual
        - Used to communicat proects and have a shared vision
    - Even more important when building for builders
    - Donald Knuth: "The designer should also write the first user manual", "If I had not participated fully in all these activities, literally hundreds of improvements would never have been made, because I woul d never have though of them or perceived why they were important"
    - A stripe operating principle
    - Early team sat with users and interviewed them on the API design. Took 3 major redesigns until first major version
    - How to scale this?
        - e.g. send a team to London to roll  out
        - Writing a press release before development
2. Spend time to make it good
    - e.g. have teams dedicated to developer experience and improving their tools
    - Docs autogenerated from code
    - No secret around it - have to put time into making it delightful to use
    - Culture of great API design
        - Simple
            - Top level API resources should be easy to understand and map to real life concepts. Tactile and intuitive
        - Composable
            - Building blocks should fit together
        - Predictable
            - e.g. idempotent transactions
        - Backwards compatible (by design)
    - API building process
        - Design document:
            - API spec
            - endpoints
            - events
            - parameters
        - API review
        - User testing
        - Early version release
        - Gradual rollout
        - Key: have introduced as many touch points during the process, to avoid building in isolation from user base
    - ...
        - Enums instead of boolean properties
        - Reflect API request in response
        - Polymorphic objects - type field, then designated nested structure
        - Express changes with verbs
        - Timestamps: (verb)_at
    - Naming is important
        - Users will type them over and over again!
    - Spending time building with the APIs (dogfooding)

    - Developer experience friction log
        - Goal: produce log of every command run and personal reaction along the way
            - e.g. this part of docs was confusion
            - e.g. I was frustruted at XYZ
3. Design your organisation
    - Managing software complexity requires top-level management attention
    - An emergent property:
        - Conway's Law: Organisations which design systems are constrained to produce designs which are copies of the communication structures of these organisations
    


---

## References

- [The principles behind great API design | Stripe Sessions 2019 (David Singleton)](https://www.youtube.com/watch?v=IEe-5VOv0Js)